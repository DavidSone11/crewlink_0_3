<div>
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Create Pilots</h1>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-default">
				<!-- <div class="panel-heading">List Of Pilot Trips
				<div class="input-group pull-right">
				
				<label class="control-label"> Items Per Page (1-100) </label>
						<input name="itemsperpage" class="input-sm form-control pull-right" min=1
							max=100 value=5 step=1 type="number"
							ng-model-options="{ debounce: 1000 }" ng-model="itemsPerPage">
					</div>
				
				</div> -->
				<div class="panel-body">
					<button class="btn btn-primary btn-sm" ng-click="trainSelected()">Train</button>
					<button class="btn btn-primary btn-sm" ng-click="othersSelected()">Others</button>

					<div ng-show="isPilotTypeTrain()">


						<h3 class="page-header">Select Train</h3>
						<div class="row">
							<div class="col-lg-3">
								<label class="control-label">From</label> <input type="text"
									ng-model="fromStation" />

							</div>
							<div class="col-lg-3">
								<div class="form-group" style="margin-top: 2px;">
									<label class="control-label">Departure Day</label> <select
										ng-model="departureDay">
										<option value="" selected>All</option>
										<option ng-repeat="day in Days" value="{{day}}">{{ day }}</option>
									</select>
								</div>
							</div>
							<div class="col-lg-4">
								<label class="control-label">Departure Time</label> <input
									type="text" ng-model="departureTime" /> <strong
									class="btn-danger" ng-hide="validateTime(departureTime);">Not
									in 24Hrs Time</strong>
							</div>
						</div>
						<div>&nbsp;</div>
						<div class="row">
							<div class="col-lg-3">
								<label class="control-label">To</label> <input type="text"
									ng-model="toStation" />
							</div>
							<div class="col-lg-3">

								<div class="form-group" style="margin-top: 2px;">
									<label class="control-label">Arrival Day</label> <select
										ng-model="arrivalDay">
										<option value="" selected>All</option>
										<option ng-repeat="day in Days" value="{{day}}">{{
											day }}</option>
									</select>
								</div>
							</div>
							<div class="col-lg-4">

								<label class="control-label">Arrival Time</label> <input
									type="text" ng-model="arrivalTime" /> <strong
									class="btn-danger" ng-hide="validateTime(arrivalTime);">Not
									in 24Hrs Time</strong>
							</div>

						</div>
						<div>&nbsp;</div>
						<button class="btn btn-primary btn-sm"
							ng-click="searchTrainForPilot()">Search Train</button>
						<br /> <br />
						<button class="btn btn-warning btn-sm" ng-click="save()">Save
							Pilot Trip</button>  
						<div>&nbsp;</div>
						<div>Sign On Duration : <select ng-model="signOnDuration">
											<option value="0">0 Mins</option>
											<option value="10">10 Mins</option>
											<option value="15">15 Mins</option>
											<option value="20">20 Mins</option>
											<option value="30">30 Mins</option>
											<option value="45">45 Mins</option>
									</select> &nbsp;&nbsp;&nbsp;
							Sign Off Duration : <select ng-model="signOffDuration">
											<option value="0">0 Mins</option>
											<option value="10">10 Mins</option>
											<option value="15">15 Mins</option>
											<option value="20">20 Mins</option>
											<option value="30">30 Mins</option>
											<option value="45">45 Mins</option>
									</select>
						</div>
						<div>&nbsp;</div>
						<button class="btn btn-primary btn-sm" ng-click="save(true)">Save
						Pilot Trip With Duty</button>


					</div>

					<div ng-hide="isPilotTypeTrain()">
						<h3 class="page-header">Select Others</h3>
						<div class="row">
							<div class="col-lg-3">
								<label class="control-label">From</label> <input type="text"
									ng-model="fromStation" />

							</div>
							<div class="col-lg-3">
								<div class="form-group" style="margin-top: 2px;">
									<label class="control-label">Departure Day</label> <select
										ng-model="departureDay">
										<option value="" selected>All</option>
										<option ng-repeat="day in Days" value="{{day}}">{{
											day }}</option>
									</select>
								</div>
							</div>
							<div class="col-lg-4">

								<label class="control-label">Departure Time</label> <input
									type="text" ng-model="departureTime" /> <strong
									class="btn-danger" ng-hide="validateTime(departureTime);">Not
									in 24Hrs Time</strong>
							</div>
						</div>
						<div>&nbsp;</div>
						<div class="row">
							<div class="col-lg-3">
								<label class="control-label">To</label> <input type="text"
									ng-model="toStation" />
							</div>
							<div class="col-lg-3">
								<div class="form-group" style="margin-top: 2px;">
									<label class="control-label">Arrival Day</label> <select
										ng-model="arrivalDay">
										<option value="">All</option>
										<option ng-repeat="day in Days" value="{{day}}">{{
											day }}</option>
									</select>
								</div>
							</div>
							<div class="col-lg-4">

								<label class="control-label">Arrival Time</label> <input
									type="text" ng-model="arrivalTime" /> <strong
									class="btn-danger" ng-hide="validateTime(arrivalTime);">Not
									in 24Hrs Time</strong>
							</div>
						</div>
						<div>&nbsp;</div>
						<div class="row">
							<div class="col-lg-3">
								<label class="control-label">Name</label> <input type="text"
									ng-model="name" />
							</div>
							<div class="col-lg-5">
								<label class="control-label">Distance</label> <input type="text"
									ng-model="distance" />
							</div>
							<div class="col-lg-4">
								<label class="control-label">Pilot Type</label> <select
									ng-model="selectedPilotType" ng-required="true"
									name="pilotType"
									ng-options="pilotType.name for pilotType in pilotTypes">
									<option value="">---</option>
								</select>
							</div>
						</div>
						<div>&nbsp;</div>
						<button class="btn btn-warning btn-sm" ng-click="save()">Save
							Pilot Trip</button>  
						<div>&nbsp;</div>
						<div>Sign On Duration : <select ng-model="signOnDuration">
											<option value="0">0 Mins</option>
											<option value="10">10 Mins</option>
											<option value="15">15 Mins</option>
											<option value="20">20 Mins</option>
											<option value="30">30 Mins</option>
											<option value="45">45 Mins</option>
									</select> &nbsp;&nbsp;&nbsp;
							Sign Off Duration : <select ng-model="signOffDuration">
											<option value="0">0 Mins</option>
											<option value="10">10 Mins</option>
											<option value="15">15 Mins</option>
											<option value="20">20 Mins</option>
											<option value="30">30 Mins</option>
											<option value="45">45 Mins</option>
									</select>
						</div>
						<div>&nbsp;</div>
						<button class="btn btn-primary btn-sm" ng-click="save(true)">Save
						Pilot Trip With Duty</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div ng-show="isPilotTypeTrain()">
	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					List Of Trains
					<div class="input-group pull-right">
						<label class="control-label"> Items Per Page (1-100) </label> <input
							name="itemsperpage" class="input-sm form-control pull-right"
							min=1 max=100 value=5 step=1 type="number"
							ng-model-options="{ debounce: 1000 }" ng-model="itemsPerPage">
					</div>

				</div>
				<div class="panel-body">
					<table class="table table-striped" st-table="trains"
						st-pipe="serverFetchTrains.process">
						<thead st-bind-model="{{refreshPilotTrains}}">
							<tr>
								<th st-ratio="5">S.No.</th>
								<th st-ratio="8" st-sort="trainNo">Train No</th>
								<th st-ratio="20" st-sort="days">Running Days</th>
								<th st-ratio="20" st-sort="name">Train Name</th>
								<th st-ratio="5" st-sort="startDay">Start day</th>
								<th st-ratio="5" st-sort="originatingStation">Originating
									Station</th>
								<th st-ratio="5" st-sort="destinationStation">Destination
									Station</th>
								<th st-ratio="5" st-sort="fromStation">From Station</th>
								<th st-ratio="5" st-sort="departureDay">Departure Day</th>
								<th st-ratio="5" st-sort="departureTime">Departure Time</th>
								<th st-ratio="5" st-sort="toStation">To Station</th>
								<th st-ratio="5" st-sort="arrivalDay">Arrival Day</th>
								<th st-ratio="5" st-sort="arrivalTime">Arrival Time</th>
								<th st-ratio="5" st-sort="trainType">Train Type</th>

							</tr>

						</thead>
						<tbody ng-show="!isLoading && (itemsPerPage)">
							<tr ng-repeat="trainItem in trains.data"
								ng-class="(trainItem[trains.fields.id]==selectedTrain[trains.fields.id])?'selected-train-section':''"
								ng-click="selectTrain(trainItem)">

								<td>{{(itemsPerPage)? ((currentPage * itemsPerPage + $index
									+1)-itemsPerPage ):''}}</td>
								<td>{{trainItem[trains.fields.trainNo]}}</td>
								<td><span
									ng-repeat="day in trainItem[trains.fields.days].split(';')">{{Days[day]
										| limitTo: 3}} </span></td>
								<td>{{trainItem[trains.fields.name]}}</td>
								<td>{{Days[trainItem[trains.fields.startDay]]}}</td>
								<td>{{trainItem[trains.fields.originatingStation]}}</td>
								<td>{{trainItem[trains.fields.destinationStation]}}</td>
								<td class="bg-warning">{{trainItem[trains.fields.fromStation]}}</td>
								<td class="bg-warning">{{Days[trainItem[trains.fields.departureDay]]}}</td>
								<td class="bg-warning">{{trainItem[trains.fields.departureTime]}}</td>
								<td class="bg-warning">{{trainItem[trains.fields.toStation]}}</td>
								<td class="bg-warning">{{Days[trainItem[trains.fields.arrivalDay]]}}</td>
								<td class="bg-warning">{{trainItem[trains.fields.arrivalTime]}}</td>
								<td>{{trainItem[trains.fields.trainType]}}</td>
							</tr>
						</tbody>
						<tbody ng-show="isLoading">
							<tr style="height: 200px">
								<td colspan="9" class="text-center"><i
									class="fa fa-spinner fa-4x fa-pulse"> </i> Loading Trains...</td>
							</tr>
						</tbody>

						<tfoot>
							<tr>
								<td colspan="9" class="text-center">
									<div st-items-by-page="itemsPerPage" st-pagination=""
										st-template="scripts/directives/pagination/pagination.custom.html"></div>
								</td>
							</tr>
						</tfoot>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
<toaster-container
	toaster-options="{'time-out': 3000, 'close-button':true, 'position-class':'toast-bottom-right'}"></toaster-container>